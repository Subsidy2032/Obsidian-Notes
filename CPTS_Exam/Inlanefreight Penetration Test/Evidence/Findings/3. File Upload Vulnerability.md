Using gobuster we find a hidden directory in the dev.trilocor.local subdomain.
```shell-session
# gobuster dir -u http://dev.trilocor.local -w /usr/share/seclists/Discovery/Web-Content/directory-list-2.3-small.txt -x .php
===============================================================
Gobuster v3.6
by OJ Reeves (@TheColonial) & Christian Mehlmauer (@firefart)
===============================================================
[+] Url:                     http://dev.trilocor.local
[+] Method:                  GET
[+] Threads:                 10
[+] Wordlist:                /usr/share/seclists/Discovery/Web-Content/directory-list-2.3-small.txt
[+] Negative Status codes:   404
[+] User Agent:              gobuster/3.6
[+] Extensions:              php
[+] Timeout:                 10s
===============================================================
Starting gobuster in directory enumeration mode
===============================================================
/transfer             (Status: 200) [Size: 87]
```

Browsing to that directory, we get redirected to the securetransfer-dev.trilocor.local subdomain.

After adding the subdomain to the hosts file, it's possible for us to open an account.
![[Pasted image 20240731132752.png]]

Used the password `SeCpass!23`.

Inside we are presented with a file upload form, uploading a jpeg image is successful.
![[Pasted image 20240730114421.png]]

Using gobuster, storage is a likely location where the files might be stored.
```shell-session
# gobuster dir -u http://securetransfer-dev.trilocor.local -w /usr/share/seclists/Discovery/Web-Content/directory-list-2.3-small.txt -x .php
===============================================================
Gobuster v3.6
by OJ Reeves (@TheColonial) & Christian Mehlmauer (@firefart)
===============================================================
[+] Url:                     http://securetransfer-dev.trilocor.local
[+] Method:                  GET
[+] Threads:                 10
[+] Wordlist:                /usr/share/seclists/Discovery/Web-Content/directory-list-2.3-small.txt
[+] Negative Status codes:   404
[+] User Agent:              gobuster/3.6
[+] Extensions:              php
[+] Timeout:                 10s
===============================================================
Starting gobuster in directory enumeration mode
===============================================================
/.php                 (Status: 403) [Size: 298]
/index.php            (Status: 200) [Size: 2967]
/download.php         (Status: 200) [Size: 17]
/files.php            (Status: 302) [Size: 0] [--> index.php]
/static               (Status: 301) [Size: 355] [--> http://securetransfer-dev.trilocor.local/static/]                                                                                      
/upload.php           (Status: 302) [Size: 0] [--> index.php]
/storage              (Status: 301) [Size: 356] [--> http://securetransfer-dev.trilocor.local/storage/]                                                                                     
Progress: 90866 / 175330 (51.83%)^C
[!] Keyboard interrupt detected, terminating.
Progress: 90914 / 175330 (51.85%)
===============================================================
Finished
===============================================================
```

For testing purposes, we will create a PHP file with the following contents.
```php
<?php echo "Hello HTB";?>
```

We are successful in uploading the file, next we will attempt to locate it.
![[Pasted image 20240730114844.png]]

Looking at the source code we can see a link to our file.
![[Pasted image 20240730115516.png]]

